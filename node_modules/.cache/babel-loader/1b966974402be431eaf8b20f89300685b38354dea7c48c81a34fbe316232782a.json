{"ast":null,"code":"import{Fragment,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import Cart from'./components/Cart/Cart';import Layout from'./components/Layout/Layout';import Products from'./components/Shop/Products';import Notification from'./components/UI/Notification';import{sendCartData,fetchCartData}from'./store/cart-actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var isInitial=true;function App(){var dispatch=useDispatch();var showCart=useSelector(function(state){return state.ui.cartIsVisible;});var cart=useSelector(function(state){return state.cart;});var notification=useSelector(function(state){return state.ui.notification;});useEffect(function(){dispatch(fetchCartData());},[dispatch]);useEffect(function(){if(isInitial){isInitial=false;return;}if(cart.changed){dispatch(sendCartData(cart));}},[cart,dispatch]);return/*#__PURE__*/_jsxs(Fragment,{children:[notification&&/*#__PURE__*/_jsx(Notification,{status:notification.status,title:notification.title,message:notification.message}),/*#__PURE__*/_jsxs(Layout,{children:[showCart&&/*#__PURE__*/_jsx(Cart,{}),/*#__PURE__*/_jsx(Products,{})]})]});}export default App;","map":{"version":3,"names":["Fragment","useEffect","useSelector","useDispatch","Cart","Layout","Products","Notification","sendCartData","fetchCartData","isInitial","App","dispatch","showCart","state","ui","cartIsVisible","cart","notification","changed","status","title","message"],"sources":["D:/ProjectInNexusBarry/AddToCartUsingUseEffect-Redux/src/App.js"],"sourcesContent":["import { Fragment, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport Cart from './components/Cart/Cart';\nimport Layout from './components/Layout/Layout';\nimport Products from './components/Shop/Products';\nimport Notification from './components/UI/Notification';\nimport { sendCartData, fetchCartData } from './store/cart-actions';\n\nlet isInitial = true;\n\nfunction App() {\n  const dispatch = useDispatch();\n  const showCart = useSelector((state) => state.ui.cartIsVisible);\n  const cart = useSelector((state) => state.cart);\n  const notification = useSelector((state) => state.ui.notification);\n\n  useEffect(() => {\n    dispatch(fetchCartData());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (isInitial) {\n      isInitial = false;\n      return;\n    }\n\n    if (cart.changed) {\n      dispatch(sendCartData(cart));\n    }\n  }, [cart, dispatch]);\n\n  return (\n    <Fragment>\n      {notification && (\n        <Notification\n          status={notification.status}\n          title={notification.title}\n          message={notification.message}\n        />\n      )}\n      <Layout>\n        {showCart && <Cart />}\n        <Products />\n      </Layout>\n    </Fragment>\n  );\n}\n\nexport default App;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,MAAOC,KAAI,KAAM,wBAAwB,CACzC,MAAOC,OAAM,KAAM,4BAA4B,CAC/C,MAAOC,SAAQ,KAAM,4BAA4B,CACjD,MAAOC,aAAY,KAAM,8BAA8B,CACvD,OAASC,YAAY,CAAEC,aAAa,KAAQ,sBAAsB,CAAC,wFAEnE,GAAIC,UAAS,CAAG,IAAI,CAEpB,QAASC,IAAG,EAAG,CACb,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAC9B,GAAMU,SAAQ,CAAGX,WAAW,CAAC,SAACY,KAAK,QAAKA,MAAK,CAACC,EAAE,CAACC,aAAa,GAAC,CAC/D,GAAMC,KAAI,CAAGf,WAAW,CAAC,SAACY,KAAK,QAAKA,MAAK,CAACG,IAAI,GAAC,CAC/C,GAAMC,aAAY,CAAGhB,WAAW,CAAC,SAACY,KAAK,QAAKA,MAAK,CAACC,EAAE,CAACG,YAAY,GAAC,CAElEjB,SAAS,CAAC,UAAM,CACdW,QAAQ,CAACH,aAAa,EAAE,CAAC,CAC3B,CAAC,CAAE,CAACG,QAAQ,CAAC,CAAC,CAEdX,SAAS,CAAC,UAAM,CACd,GAAIS,SAAS,CAAE,CACbA,SAAS,CAAG,KAAK,CACjB,OACF,CAEA,GAAIO,IAAI,CAACE,OAAO,CAAE,CAChBP,QAAQ,CAACJ,YAAY,CAACS,IAAI,CAAC,CAAC,CAC9B,CACF,CAAC,CAAE,CAACA,IAAI,CAAEL,QAAQ,CAAC,CAAC,CAEpB,mBACE,MAAC,QAAQ,YACNM,YAAY,eACX,KAAC,YAAY,EACX,MAAM,CAAEA,YAAY,CAACE,MAAO,CAC5B,KAAK,CAAEF,YAAY,CAACG,KAAM,CAC1B,OAAO,CAAEH,YAAY,CAACI,OAAQ,EAEjC,cACD,MAAC,MAAM,YACJT,QAAQ,eAAI,KAAC,IAAI,IAAG,cACrB,KAAC,QAAQ,IAAG,GACL,GACA,CAEf,CAEA,cAAeF,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}